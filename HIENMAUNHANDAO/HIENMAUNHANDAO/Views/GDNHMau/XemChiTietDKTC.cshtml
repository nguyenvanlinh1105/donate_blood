@model HIENMAUNHANDAO.ViewModel.ChiTietDonDangKiTCHienMau
@{
    Layout = "Layout_GDNH";
}
@{
    var thongBao = Model.thongBaoDangKiToChuc;
    var coSoTN = Model.CoSoTinhNguyen;
}
<link href="~/css/gdnh/xemCTDKTCHM.css" rel="stylesheet" />
<section class="feedback-section" style="width:80%">
    <div class="container">
        <!-- Thông báo từ Trung tâm -->
        <div class="row">
            <div class="col-12">
                <div class="donation-card" style="border-left: 6px solid var(--secondary-color);">
                    <div class="d-flex align-items-center mb-4">
                        <img src="~/img/logo/favicon_ic_web.png" alt="Red Cross Logo" style="width: 50px; height: auto; margin-right: 15px;">
                        <h2 class="mb-0" style="color: var(--secondary-color);">THÔNG BÁO TỔ CHỨC HIẾN MÁU</h2>
                    </div>

                    <div class="alert alert-primary" role="alert" style="font-size: 16px;">
                        <i class="fas fa-bullhorn me-2"></i> <strong>Thông báo: </strong>  <span class="info"> @thongBao.TieuDe (@thongBao.TgBatDauDk.ToString("dd/MM/yyyy HH:mm") đến @thongBao.TgKetThucDk.ToString("dd/MM/yyyy HH:mm"))</span>
                    </div>

                    <div class="row">
                        <div class="col-md-6">
                            <p><strong><i class="fas fa-hospital me-2"></i>  Tên đơn vị tổ chức:</strong> <span class="info">Trung tâm Huyết học - Truyền máu Đà Nẵng</span></p>
                            <p><strong><i class="fas fa-map-marker-alt me-2"></i>  Địa chỉ:</strong> <span class="info">48 Cao Thắng, Thanh Bình, Hải Châu, Đà Nẵng</span></p>
                        </div>
                        <div class="col-md-6">
                            <p><strong><i class="fas fa-phone me-2"></i>  Số điện thoại:</strong> <span class="info">0982739383</span></p>
                            <p><strong><i class="fas fa-envelope me-2"></i>  Email:</strong> <span class="info">huyethoc.truyenmaudanang@gmail.com</span></p>
                        </div>
                    </div>

                    <div class="mt-3">
                        <p><strong><i class="fas fa-user-tie me-2"></i>  Người phụ trách:</strong> <span class="info">Phạm Thị Ngọc Ánh</span></p>
                    </div>
                    <div class="mt-4">
                        <p><strong>Số lượng máu yêu cầu:</strong> <strong class="badge bg-primary">  <span class="info">@thongBao.SoLuongHien Người</span></strong></p>
                        <p><strong>Thời gian hiến máu:</strong> <strong class="badge bg-info text-dark"> <span class="info">@thongBao.TgBatDauDk.ToString("dd/MM/yyyy HH:mm") đến @thongBao.TgKetThucDk.ToString("dd/MM/yyyy HH:mm")</span></strong></p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Đơn đăng ký từ cơ sở tình nguyện -->
        <div class="row">
            <div class="col-12">
                <div class="donation-card" style="border-left: 6px solid var(--success-color);">
                    <div class="d-flex align-items-center mb-4">
                        <img src="~/img/login/iconhienmau.png" alt="Red Cross Logo" style="width: 50px; height: auto; margin-right: 15px;">
                        @if(Model.dangKiSuKien.TinhTrangDk=="Đã duyệt")
                        {
                            <span style="
                              border-radius: 5px;
                              padding: 5px 20px;
                              background: #64ea9c;
                              margin-left: 70%;
                              display: inline-block;">Trạng thái đã duyệt</span>
                        }else if(Model.dangKiSuKien.TinhTrangDk=="Chưa duyệt")
                        {
                            <span style="
                              border-radius: 5px;
                              padding: 5px 20px;
                              background: #64d4ea;
                              margin-left: 70%;
                              display: inline-block;">Trạng thái chưa duyệt</span>
                        }
                        else
                        {
                            <span style="
                              border-radius: 5px;
                              padding: 5px 20px;
                              background: #ff7d8f;
                              margin-left: 70%;
                              display: inline-block;">Trạng thái đã từ chối</span>
                        }
                        <h2 class="mb-0" style="color: var(--success-color);">ĐƠN ĐĂNG KÝ TỔ CHỨC HIẾN MÁU</h2>
                    </div>

                    <div class="alert alert-success" role="alert" style="font-size: 16px;">
                        <i class="fa-solid fa-clock"></i> Ngày đăng kí : @Model.dangKiSuKien.NgayDangKi.ToString("dd/MM/yyyy HH:mm") <br />
                        <i class="fas fa-info-circle me-2"></i> Trung tâm Huyết học - Truyền máu Đà Nẵng triển khai chương trình hiến máu tình nguyện năm 2025 (08/04/2025)
                    </div>
                    <div class="mb-4">
                        <h4 class="section-title" style="margin-bottom:20px"><i class="fas fa-building me-2"></i>THÔNG TIN CƠ SỞ TÌNH NGUYỆN ĐĂNG KÍ</h4>
                        <div class="info-box">
                            <p><i class="fas fa-school me-2"></i><strong>  Tên cơ sở:</strong> @coSoTN.TenCoSoTinhNguyen</p>
                            <p><i class="fas fa-location-dot me-2"></i><strong>  Địa chỉ:</strong> @coSoTN.DiaChi</p>
                            <p><i class="fas fa-user-nurse me-2"></i><strong>  Người liên hệ:</strong> Y tá @coSoTN.NguoiPhuTrach</p>
                            <p><i class="fas fa-phone me-2"></i><strong>  Điện thoại:</strong> @coSoTN.Sdt</p>
                            <p><i class="fas fa-envelope me-2"></i><strong>  Email:</strong> @coSoTN.Email</p>
                        </div>
                        <div class="checkbox-container mt-2">
                            <input type="checkbox" checked disabled>
                            <label>Thông tin đơn vị tổ chức đã được xác nhận</label>
                        </div>
                    </div>

                    <div class="mb-4">
                        <h4 class="section-title" style="margin-bottom:20px"><i class="fas fa-clipboard-check me-2"></i>  YÊU CẦU CƠ SỞ VẬT CHẤT</h4>
                        <div class="requirements-grid" style="grid-template-columns:none">
                            <div class="requirement-item">
                                <p><strong>@thongBao.YeuCau</strong></p>
                                <div class="checkbox-container">
                                    <input type="checkbox" checked disabled>
                                    <label> Đã xác nhận đạt yêu cầu</label>
                                </div>
                            </div>

                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    @if(Model.dangKiSuKien.TinhTrangDk=="Đã duyệt")
    {
        <div class="approve-button-container">
            <a asp-controller="GDNHMau"
            asp-action="HuyCoSo"
            asp-route-idSuKien="@Model.dangKiSuKien.IdSuKien" asp-route-idCoSoTN="@Model.dangKiSuKien.IdCoSoTinhNguyen" style="background:#FE8687; margin-left: 30px; cursor:pointer; border: none;
       padding: 10px 20px; color: white; font-weight: bold; display: inline-block;
       transition: background-color 0.3s ease, transform 0.3s ease;"
            class="btn btn-approve btn-lg"
            onmouseover="this.style.backgroundColor='#FF4C4F'; this.style.transform='scale(1.05)';"
            onmouseout="this.style.backgroundColor='#FE8687'; this.style.transform='scale(1)';">
                Từ chối đơn đăng ký tổ chức
            </a>
        </div>
    }else if(Model.dangKiSuKien.TinhTrangDk=="Từ chối")
    {
        <div class="approve-button-container">
            <a asp-controller="GDNHMau"
               asp-action="DuyetCoSo"
               asp-route-idSuKien="@Model.dangKiSuKien.IdSuKien" asp-route-idCoSoTN="@Model.dangKiSuKien.IdCoSoTinhNguyen" class="btn btn-approve btn-lg" style="cursor:pointer; border:none; background:#4CAF50; color:#fff; padding:10px 20px; font-weight:bold; margin-left:30px; display:inline-block;
                transition: background-color 0.3s ease, transform 0.3s ease;"
               onmouseover="this.style.backgroundColor='#45a049'; this.style.transform='scale(1.05)';"
               onmouseout="this.style.backgroundColor='#4CAF50'; this.style.transform='scale(1)';">
                Duyệt đơn đăng ký tổ chức
            </a>
        </div>
    }
    else
    {
        <div class="approve-button-container">
            <a asp-controller="GDNHMau"
               asp-action="DuyetCoSo"
               asp-route-idSuKien="@Model.dangKiSuKien.IdSuKien" asp-route-idCoSoTN="@Model.dangKiSuKien.IdCoSoTinhNguyen" class="btn btn-approve btn-lg" style="cursor:pointer; border:none; background:#4CAF50; color:#fff; padding:10px 20px; font-weight:bold; margin-left:30px; display:inline-block;
                transition: background-color 0.3s ease, transform 0.3s ease;"
               onmouseover="this.style.backgroundColor='#45a049'; this.style.transform='scale(1.05)';"
               onmouseout="this.style.backgroundColor='#4CAF50'; this.style.transform='scale(1)';">
                Duyệt đơn đăng ký tổ chức
            </a>
            <a asp-controller="GDNHMau"
               asp-action="HuyCoSo"
               asp-route-idSuKien="@Model.dangKiSuKien.IdSuKien" asp-route-idCoSoTN="@Model.dangKiSuKien.IdCoSoTinhNguyen" style="background:#FE8687; margin-left: 30px; cursor:pointer; border: none;
               padding: 10px 20px; color: white; font-weight: bold; display: inline-block;
               transition: background-color 0.3s ease, transform 0.3s ease;"
               class="btn btn-approve btn-lg"
               onmouseover="this.style.backgroundColor='#FF4C4F'; this.style.transform='scale(1.05)';"
               onmouseout="this.style.backgroundColor='#FE8687'; this.style.transform='scale(1)';">
                Từ chối đơn đăng ký tổ chức
            </a>
        </div>
    }
</section>